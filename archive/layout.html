<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Glove80 Keyboard Layout</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: #1e1e1e;
            color: #e0e0e0;
            padding: 20px;
            overflow-x: auto;
        }
        
        .container {
            min-width: 1400px;
            margin: 0 auto;
        }
        
        h1 {
            text-align: center;
            margin-bottom: 20px;
            color: #61dafb;
        }
        
        .layer-selector {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
        }
        
        .layer-btn {
            padding: 10px 20px;
            background: #333;
            color: #e0e0e0;
            border: 2px solid #555;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
            font-weight: 500;
        }
        
        .layer-btn:hover {
            background: #444;
            border-color: #61dafb;
        }
        
        .layer-btn.active {
            background: #61dafb;
            color: #1e1e1e;
            border-color: #61dafb;
        }
        
        .keyboard-container {
            display: flex;
            justify-content: center;
            gap: 40px;
            padding: 20px;
            background: #2a2a2a;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        
        .keyboard-split {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .keyboard-main {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }
        
        .keyboard-thumb {
            display: flex;
            flex-direction: column;
            gap: 4px;
            margin-top: 16px;
            align-items: center;
        }
        
        .thumb-row {
            display: flex;
            gap: 4px;
        }
        
        .row {
            display: flex;
            gap: 4px;
            justify-content: center;
        }
        
        .row.left {
            justify-content: flex-end;
        }
        
        .row.right {
            justify-content: flex-start;
        }
        
        .key {
            width: 54px;
            height: 54px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #3a3a3a;
            border: 2px solid #555;
            border-radius: 8px;
            font-size: 11px;
            font-weight: 600;
            transition: all 0.2s;
            cursor: default;
            position: relative;
            text-align: center;
            padding: 2px;
            white-space: pre-line;
            line-height: 1.2;
        }
        
        .key:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .key:hover::after {
            content: attr(data-full);
            position: absolute;
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
            background: #000;
            color: #fff;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 10px;
            white-space: nowrap;
            z-index: 100;
        }
        
        .key.empty {
            visibility: hidden;
        }
        
        /* Key type colors */
        .key.trans {
            background: #2a2a2a;
            color: #666;
            border-style: dashed;
        }
        
        .key.none {
            background: #222;
            border-color: #333;
        }
        
        .key.hrm {
            background: #4a3a5a;
            color: #b19cd9;
            border-color: #7a6a8a;
        }
        
        .key.layer, .key.layer_tap {
            background: #3a5a4a;
            color: #90ee90;
        }
        
        .key.macro {
            background: #5a4a3a;
            color: #ffa500;
        }
        
        .key.bluetooth {
            background: #3a4a5a;
            color: #87ceeb;
        }
        
        .key.magic {
            background: #5a3a5a;
            color: #ff69b4;
        }
        
        /* Special key sizes */
        .key.thumb {
            width: 60px;
            height: 50px;
            border-radius: 10px;
        }
        
        .key.center-mod {
            width: 50px;
            height: 45px;
            background: #444;
            margin: 0 2px;
        }
        
        /* Row-specific styling */
        .row0 .key {
            width: 48px;
            height: 42px;
            font-size: 10px;
        }
        
        .legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .legend-key {
            width: 30px;
            height: 30px;
            border-radius: 5px;
            border: 2px solid #555;
        }
        
        .info {
            text-align: center;
            margin-top: 20px;
            color: #888;
            font-size: 14px;
        }
        
        .info p {
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Glove80 Keyboard Layout Visualization</h1>
        
        <div class="layer-selector" id="layerSelector">
            <!-- Layer buttons will be inserted here -->
        </div>
        
        <div class="keyboard-container">
            <div class="keyboard-split" id="leftSplit">
                <div class="keyboard-main" id="leftMain">
                    <!-- Left main keys will be inserted here -->
                </div>
                <div class="keyboard-thumb" id="leftThumb">
                    <!-- Left thumb cluster will be inserted here -->
                </div>
            </div>
            
            <div class="keyboard-split" id="rightSplit">
                <div class="keyboard-main" id="rightMain">
                    <!-- Right main keys will be inserted here -->
                </div>
                <div class="keyboard-thumb" id="rightThumb">
                    <!-- Right thumb cluster will be inserted here -->
                </div>
            </div>
        </div>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-key key"></div>
                <span>Regular Key</span>
            </div>
            <div class="legend-item">
                <div class="legend-key key hrm"></div>
                <span>Home Row Mod</span>
            </div>
            <div class="legend-item">
                <div class="legend-key key layer"></div>
                <span>Layer</span>
            </div>
            <div class="legend-item">
                <div class="legend-key key macro"></div>
                <span>Macro</span>
            </div>
            <div class="legend-item">
                <div class="legend-key key bluetooth"></div>
                <span>Bluetooth</span>
            </div>
            <div class="legend-item">
                <div class="legend-key key magic"></div>
                <span>Magic</span>
            </div>
            <div class="legend-item">
                <div class="legend-key key trans"></div>
                <span>Transparent</span>
            </div>
        </div>
        
        <div class="info">
            <p>Generated from config/glove80.keymap</p>
            <p>Hover over keys to see full binding</p>
            <p>HRM format: Key/Modifier (e.g., A/G means A key with GUI modifier on hold)</p>
        </div>
    </div>
    
    <script>
        const layers = [
        {
                "name": "Base",
                "keys": [
                        {
                                "label": "F1",
                                "class": "key",
                                "full": "kp F1"
                        },
                        {
                                "label": "F2",
                                "class": "key",
                                "full": "kp F2"
                        },
                        {
                                "label": "F3",
                                "class": "key",
                                "full": "kp F3"
                        },
                        {
                                "label": "F4",
                                "class": "key",
                                "full": "kp F4"
                        },
                        {
                                "label": "F5",
                                "class": "key",
                                "full": "kp F5"
                        },
                        {
                                "label": "F6",
                                "class": "key",
                                "full": "kp F6"
                        },
                        {
                                "label": "F7",
                                "class": "key",
                                "full": "kp F7"
                        },
                        {
                                "label": "F8",
                                "class": "key",
                                "full": "kp F8"
                        },
                        {
                                "label": "F9",
                                "class": "key",
                                "full": "kp F9"
                        },
                        {
                                "label": "F10",
                                "class": "key",
                                "full": "kp F10"
                        },
                        {
                                "label": "=",
                                "class": "key",
                                "full": "kp EQUAL"
                        },
                        {
                                "label": "1",
                                "class": "key",
                                "full": "kp N1"
                        },
                        {
                                "label": "2",
                                "class": "key",
                                "full": "kp N2"
                        },
                        {
                                "label": "3",
                                "class": "key",
                                "full": "kp N3"
                        },
                        {
                                "label": "4",
                                "class": "key",
                                "full": "kp N4"
                        },
                        {
                                "label": "5",
                                "class": "key",
                                "full": "kp N5"
                        },
                        {
                                "label": "6",
                                "class": "key",
                                "full": "kp N6"
                        },
                        {
                                "label": "7",
                                "class": "key",
                                "full": "kp N7"
                        },
                        {
                                "label": "8",
                                "class": "key",
                                "full": "kp N8"
                        },
                        {
                                "label": "9",
                                "class": "key",
                                "full": "kp N9"
                        },
                        {
                                "label": "0",
                                "class": "key",
                                "full": "kp N0"
                        },
                        {
                                "label": "-",
                                "class": "key",
                                "full": "kp MINUS"
                        },
                        {
                                "label": "Tab",
                                "class": "key",
                                "full": "kp TAB"
                        },
                        {
                                "label": "Q",
                                "class": "key",
                                "full": "kp Q"
                        },
                        {
                                "label": "W",
                                "class": "key",
                                "full": "kp W"
                        },
                        {
                                "label": "E",
                                "class": "key",
                                "full": "kp E"
                        },
                        {
                                "label": "R",
                                "class": "key",
                                "full": "kp R"
                        },
                        {
                                "label": "T",
                                "class": "key",
                                "full": "kp T"
                        },
                        {
                                "label": "Y",
                                "class": "key",
                                "full": "kp Y"
                        },
                        {
                                "label": "U",
                                "class": "key",
                                "full": "kp U"
                        },
                        {
                                "label": "I",
                                "class": "key",
                                "full": "kp I"
                        },
                        {
                                "label": "O",
                                "class": "key",
                                "full": "kp O"
                        },
                        {
                                "label": "P",
                                "class": "key",
                                "full": "kp P"
                        },
                        {
                                "label": "\\",
                                "class": "key",
                                "full": "kp BSLH"
                        },
                        {
                                "label": "Esc",
                                "class": "key",
                                "full": "kp ESC"
                        },
                        {
                                "label": "A/G",
                                "class": "hrm",
                                "full": "hmk_left_pinky LGUI A"
                        },
                        {
                                "label": "S/A",
                                "class": "hrm",
                                "full": "hmk_left_ring LALT S"
                        },
                        {
                                "label": "D/S",
                                "class": "hrm",
                                "full": "hmk_left_middle LSHFT D"
                        },
                        {
                                "label": "F/C",
                                "class": "hrm",
                                "full": "hmk_left_index LCTRL F"
                        },
                        {
                                "label": "G",
                                "class": "key",
                                "full": "kp G"
                        },
                        {
                                "label": "H",
                                "class": "key",
                                "full": "kp H"
                        },
                        {
                                "label": "J/C",
                                "class": "hrm",
                                "full": "hmk_right_index RCTRL J"
                        },
                        {
                                "label": "K/S",
                                "class": "hrm",
                                "full": "hmk_right_middle RSHFT K"
                        },
                        {
                                "label": "L/A",
                                "class": "hrm",
                                "full": "hmk_right_ring LALT L"
                        },
                        {
                                "label": "SEMI/G",
                                "class": "hrm",
                                "full": "hmk_right_pinky RGUI SEMI"
                        },
                        {
                                "label": "'",
                                "class": "key",
                                "full": "kp SQT"
                        },
                        {
                                "label": "`",
                                "class": "key",
                                "full": "kp GRAVE"
                        },
                        {
                                "label": "Z",
                                "class": "key",
                                "full": "kp Z"
                        },
                        {
                                "label": "X",
                                "class": "key",
                                "full": "kp X"
                        },
                        {
                                "label": "C",
                                "class": "key",
                                "full": "kp C"
                        },
                        {
                                "label": "V",
                                "class": "key",
                                "full": "kp V"
                        },
                        {
                                "label": "B",
                                "class": "key",
                                "full": "kp B"
                        },
                        {
                                "label": "LOWER",
                                "class": "layer",
                                "full": "lower"
                        },
                        {
                                "label": "LCtrl",
                                "class": "key",
                                "full": "kp LCTRL"
                        },
                        {
                                "label": "RAlt",
                                "class": "key",
                                "full": "kp RALT"
                        },
                        {
                                "label": "LGui",
                                "class": "key",
                                "full": "kp LGUI"
                        },
                        {
                                "label": "RCtrl",
                                "class": "key",
                                "full": "kp RCTRL"
                        },
                        {
                                "label": "RShift",
                                "class": "key",
                                "full": "kp RSHFT"
                        },
                        {
                                "label": "N",
                                "class": "key",
                                "full": "kp N"
                        },
                        {
                                "label": "M",
                                "class": "key",
                                "full": "kp M"
                        },
                        {
                                "label": ",",
                                "class": "key",
                                "full": "kp COMMA"
                        },
                        {
                                "label": ".",
                                "class": "key",
                                "full": "kp DOT"
                        },
                        {
                                "label": "/",
                                "class": "key",
                                "full": "kp FSLH"
                        },
                        {
                                "label": "PgUp",
                                "class": "key",
                                "full": "kp PG_UP"
                        },
                        {
                                "label": "MAGIC",
                                "class": "magic",
                                "full": "magic LAYER_Magic"
                        },
                        {
                                "label": "Home",
                                "class": "key",
                                "full": "kp HOME"
                        },
                        {
                                "label": "End",
                                "class": "key",
                                "full": "kp END"
                        },
                        {
                                "label": "\u2190",
                                "class": "key",
                                "full": "kp LEFT"
                        },
                        {
                                "label": "\u2192",
                                "class": "key",
                                "full": "kp RIGHT"
                        },
                        {
                                "label": "Space",
                                "class": "key",
                                "full": "kp SPACE"
                        },
                        {
                                "label": "SPACE/MACRO_PLACEHOLDER",
                                "class": "hrm",
                                "full": "hmk_left_thumb_middle_inner MACRO_PLACEHOLDER SPACE"
                        },
                        {
                                "label": "BkSp",
                                "class": "key",
                                "full": "kp BSPC"
                        },
                        {
                                "label": "Del",
                                "class": "key",
                                "full": "kp DEL"
                        },
                        {
                                "label": "Enter",
                                "class": "key",
                                "full": "kp RET"
                        },
                        {
                                "label": "LGui",
                                "class": "key",
                                "full": "kp LGUI"
                        },
                        {
                                "label": "\u2191",
                                "class": "key",
                                "full": "kp UP"
                        },
                        {
                                "label": "\u2193",
                                "class": "key",
                                "full": "kp DOWN"
                        },
                        {
                                "label": "[",
                                "class": "key",
                                "full": "kp LBKT"
                        },
                        {
                                "label": "]",
                                "class": "key",
                                "full": "kp RBKT"
                        },
                        {
                                "label": "PgDn",
                                "class": "key",
                                "full": "kp PG_DN"
                        }
                ]
        },
        {
                "name": "Lower",
                "keys": [
                        {
                                "label": "C_BRI_DN",
                                "class": "key",
                                "full": "kp C_BRI_DN"
                        },
                        {
                                "label": "C_BRI_UP",
                                "class": "key",
                                "full": "kp C_BRI_UP"
                        },
                        {
                                "label": "C_PREV",
                                "class": "key",
                                "full": "kp C_PREV"
                        },
                        {
                                "label": "C_PP",
                                "class": "key",
                                "full": "kp C_PP"
                        },
                        {
                                "label": "C_NEXT",
                                "class": "key",
                                "full": "kp C_NEXT"
                        },
                        {
                                "label": "C_MUTE",
                                "class": "key",
                                "full": "kp C_MUTE"
                        },
                        {
                                "label": "C_VOL_DN",
                                "class": "key",
                                "full": "kp C_VOL_DN"
                        },
                        {
                                "label": "C_VOL_UP",
                                "class": "key",
                                "full": "kp C_VOL_UP"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "PAUSE_BREAK",
                                "class": "key",
                                "full": "kp PAUSE_BREAK"
                        },
                        {
                                "label": "\u25bd",
                                "class": "trans",
                                "full": "Transparent"
                        },
                        {
                                "label": "`",
                                "class": "key",
                                "full": "kp GRAVE"
                        },
                        {
                                "label": "(",
                                "class": "key",
                                "full": "kp LPAR"
                        },
                        {
                                "label": ")",
                                "class": "key",
                                "full": "kp RPAR"
                        },
                        {
                                "label": ";",
                                "class": "key",
                                "full": "kp SEMI"
                        },
                        {
                                "label": ",",
                                "class": "key",
                                "full": "kp COMMA"
                        },
                        {
                                "label": "\"",
                                "class": "key",
                                "full": "kp DQT"
                        },
                        {
                                "label": "MACRO",
                                "class": "macro",
                                "full": "macro_equal_gt"
                        },
                        {
                                "label": "MACRO",
                                "class": "macro",
                                "full": "macro_double_single_quotes"
                        },
                        {
                                "label": "MACRO",
                                "class": "macro",
                                "full": "macro_double_double_quotes"
                        },
                        {
                                "label": "KP_MULTIPLY",
                                "class": "key",
                                "full": "kp KP_MULTIPLY"
                        },
                        {
                                "label": "PRINTSCREEN",
                                "class": "key",
                                "full": "kp PRINTSCREEN"
                        },
                        {
                                "label": "!",
                                "class": "key",
                                "full": "kp EXCL"
                        },
                        {
                                "label": "{",
                                "class": "key",
                                "full": "kp LBRC"
                        },
                        {
                                "label": "'",
                                "class": "key",
                                "full": "kp SQT"
                        },
                        {
                                "label": "\"",
                                "class": "key",
                                "full": "kp DQT"
                        },
                        {
                                "label": "}",
                                "class": "key",
                                "full": "kp RBRC"
                        },
                        {
                                "label": "?",
                                "class": "key",
                                "full": "kp QMARK"
                        },
                        {
                                "label": ":",
                                "class": "key",
                                "full": "kp COLON"
                        },
                        {
                                "label": "MACRO",
                                "class": "macro",
                                "full": "macro_bracket_open_close"
                        },
                        {
                                "label": "[",
                                "class": "key",
                                "full": "kp LBKT"
                        },
                        {
                                "label": "]",
                                "class": "key",
                                "full": "kp RBKT"
                        },
                        {
                                "label": "-",
                                "class": "key",
                                "full": "kp MINUS"
                        },
                        {
                                "label": "SCROLLLOCK",
                                "class": "key",
                                "full": "kp SCROLLLOCK"
                        },
                        {
                                "label": "#",
                                "class": "key",
                                "full": "kp HASH"
                        },
                        {
                                "label": "^",
                                "class": "key",
                                "full": "kp CARET"
                        },
                        {
                                "label": "=",
                                "class": "key",
                                "full": "kp EQUAL"
                        },
                        {
                                "label": "_",
                                "class": "key",
                                "full": "kp UNDER"
                        },
                        {
                                "label": "$",
                                "class": "key",
                                "full": "kp DLLR"
                        },
                        {
                                "label": "*",
                                "class": "key",
                                "full": "kp STAR"
                        },
                        {
                                "label": "-",
                                "class": "key",
                                "full": "kp MINUS"
                        },
                        {
                                "label": "MACRO",
                                "class": "macro",
                                "full": "macro_parenthesis_open_close"
                        },
                        {
                                "label": "(",
                                "class": "key",
                                "full": "kp LPAR"
                        },
                        {
                                "label": ")",
                                "class": "key",
                                "full": "kp RPAR"
                        },
                        {
                                "label": "_",
                                "class": "key",
                                "full": "kp UNDER"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "LS(GRAVE)",
                                "class": "key",
                                "full": "kp LS(GRAVE)"
                        },
                        {
                                "label": "<",
                                "class": "key",
                                "full": "kp LT"
                        },
                        {
                                "label": "LS(NON_US_BSLH)",
                                "class": "key",
                                "full": "kp LS(NON_US_BSLH)"
                        },
                        {
                                "label": "-",
                                "class": "key",
                                "full": "kp MINUS"
                        },
                        {
                                "label": ">",
                                "class": "key",
                                "full": "kp GT"
                        },
                        {
                                "label": "/",
                                "class": "key",
                                "full": "kp FSLH"
                        },
                        {
                                "label": "\u25bd",
                                "class": "trans",
                                "full": "Transparent"
                        },
                        {
                                "label": "\u25bd",
                                "class": "trans",
                                "full": "Transparent"
                        },
                        {
                                "label": "to 0",
                                "class": "behavior",
                                "full": "to 0"
                        },
                        {
                                "label": "\u25bd",
                                "class": "trans",
                                "full": "Transparent"
                        },
                        {
                                "label": "\u25bd",
                                "class": "trans",
                                "full": "Transparent"
                        },
                        {
                                "label": "\u25bd",
                                "class": "trans",
                                "full": "Transparent"
                        },
                        {
                                "label": "_",
                                "class": "key",
                                "full": "kp UNDER"
                        },
                        {
                                "label": "MACRO",
                                "class": "macro",
                                "full": "macro_lt_gt"
                        },
                        {
                                "label": "<",
                                "class": "key",
                                "full": "kp LT"
                        },
                        {
                                "label": ">",
                                "class": "key",
                                "full": "kp GT"
                        },
                        {
                                "label": "KP_ENTER",
                                "class": "key",
                                "full": "kp KP_ENTER"
                        },
                        {
                                "label": "\u25bd",
                                "class": "trans",
                                "full": "Transparent"
                        },
                        {
                                "label": "LS(N2)",
                                "class": "key",
                                "full": "kp LS(N2)"
                        },
                        {
                                "label": "&",
                                "class": "key",
                                "full": "kp AMPS"
                        },
                        {
                                "label": "[",
                                "class": "key",
                                "full": "kp LBKT"
                        },
                        {
                                "label": "]",
                                "class": "key",
                                "full": "kp RBKT"
                        },
                        {
                                "label": "+",
                                "class": "key",
                                "full": "kp PLUS"
                        },
                        {
                                "label": "PRCNT",
                                "class": "key",
                                "full": "kp PRCNT"
                        },
                        {
                                "label": ":",
                                "class": "key",
                                "full": "kp COLON"
                        },
                        {
                                "label": ";",
                                "class": "key",
                                "full": "kp SEMI"
                        },
                        {
                                "label": "\u25bd",
                                "class": "trans",
                                "full": "Transparent"
                        },
                        {
                                "label": "\u25bd",
                                "class": "trans",
                                "full": "Transparent"
                        },
                        {
                                "label": "\u25bd",
                                "class": "trans",
                                "full": "Transparent"
                        },
                        {
                                "label": "MACRO",
                                "class": "macro",
                                "full": "macro_brace_open_close"
                        },
                        {
                                "label": "{",
                                "class": "key",
                                "full": "kp LBRC"
                        },
                        {
                                "label": "}",
                                "class": "key",
                                "full": "kp RBRC"
                        },
                        {
                                "label": "KP_ENTER",
                                "class": "key",
                                "full": "kp KP_ENTER"
                        },
                        {
                                "label": "\u25bd",
                                "class": "trans",
                                "full": "Transparent"
                        }
                ]
        },
        {
                "name": "Combos",
                "keys": [
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        }
                ]
        },
        {
                "name": "Magic",
                "keys": [
                        {
                                "label": "BT CLR",
                                "class": "bluetooth",
                                "full": "bt BT_CLR"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "BT",
                                "class": "bluetooth",
                                "full": "bt BT_CLR_ALL"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "rgb_ug R",
                                "class": "behavior",
                                "full": "rgb_ug RGB_SPI"
                        },
                        {
                                "label": "rgb_ug R",
                                "class": "behavior",
                                "full": "rgb_ug RGB_SAI"
                        },
                        {
                                "label": "rgb_ug R",
                                "class": "behavior",
                                "full": "rgb_ug RGB_HUI"
                        },
                        {
                                "label": "rgb_ug R",
                                "class": "behavior",
                                "full": "rgb_ug RGB_BRI"
                        },
                        {
                                "label": "rgb_ug R",
                                "class": "behavior",
                                "full": "rgb_ug RGB_TOG"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "bootload",
                                "class": "behavior",
                                "full": "bootloader"
                        },
                        {
                                "label": "rgb_ug R",
                                "class": "behavior",
                                "full": "rgb_ug RGB_SPD"
                        },
                        {
                                "label": "rgb_ug R",
                                "class": "behavior",
                                "full": "rgb_ug RGB_SAD"
                        },
                        {
                                "label": "rgb_ug R",
                                "class": "behavior",
                                "full": "rgb_ug RGB_HUD"
                        },
                        {
                                "label": "rgb_ug R",
                                "class": "behavior",
                                "full": "rgb_ug RGB_BRD"
                        },
                        {
                                "label": "rgb_ug R",
                                "class": "behavior",
                                "full": "rgb_ug RGB_EFF"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "bootload",
                                "class": "behavior",
                                "full": "bootloader"
                        },
                        {
                                "label": "sys_rese",
                                "class": "behavior",
                                "full": "sys_reset"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "bt_2",
                                "class": "behavior",
                                "full": "bt_2"
                        },
                        {
                                "label": "bt_3",
                                "class": "behavior",
                                "full": "bt_3"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "sys_rese",
                                "class": "behavior",
                                "full": "sys_reset"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "bt_0",
                                "class": "behavior",
                                "full": "bt_0"
                        },
                        {
                                "label": "bt_1",
                                "class": "behavior",
                                "full": "bt_1"
                        },
                        {
                                "label": "out OUT_",
                                "class": "behavior",
                                "full": "out OUT_USB"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        },
                        {
                                "label": "",
                                "class": "none",
                                "full": "None"
                        }
                ]
        }
];
        const leftLayout = [
        [
                0,
                1,
                2,
                3,
                4
        ],
        [
                10,
                11,
                12,
                13,
                14,
                15
        ],
        [
                22,
                23,
                24,
                25,
                26,
                27
        ],
        [
                34,
                35,
                36,
                37,
                38,
                39
        ],
        [
                46,
                47,
                48,
                49,
                50,
                51,
                52
        ],
        [
                64,
                65,
                66,
                67,
                68
        ],
        [
                null,
                null,
                null,
                69,
                70,
                71
        ]
];
        const rightLayout = [
        [
                5,
                6,
                7,
                8,
                9
        ],
        [
                16,
                17,
                18,
                19,
                20,
                21
        ],
        [
                28,
                29,
                30,
                31,
                32,
                33
        ],
        [
                40,
                41,
                42,
                43,
                44,
                45
        ],
        [
                58,
                59,
                60,
                61,
                62,
                63
        ],
        [
                75,
                76,
                77,
                78,
                79
        ],
        [
                72,
                73,
                74,
                null,
                null,
                null
        ]
];
        const centerLayout = [
        [
                53,
                54,
                55,
                56,
                57
        ]
];
        
        let currentLayer = 0;
        
        function renderKeyboard(layerIndex) {
            const layer = layers[layerIndex];
            if (!layer) return;
            
            // Clear containers
            document.getElementById('leftMain').innerHTML = '';
            document.getElementById('rightMain').innerHTML = '';
            document.getElementById('leftThumb').innerHTML = '';
            document.getElementById('rightThumb').innerHTML = '';
            
            // Render left side with integrated thumb cluster
            renderIntegratedSection('leftMain', leftLayout, layer.keys, 'left');
            
            // Render right side with integrated thumb cluster
            renderIntegratedSection('rightMain', rightLayout, layer.keys, 'right');
            
            // Render center modifiers between the thumb clusters
            renderCenterMods('leftThumb', centerLayout, layer.keys);
        }
        
        function renderIntegratedSection(elementId, layout, keys, side) {
            const container = document.getElementById(elementId);
            
            layout.forEach((row, rowIndex) => {
                const rowDiv = document.createElement('div');
                rowDiv.className = `row row${rowIndex} ${side}`;
                
                // Check if this is the thumb row (last row)
                const isThumbRow = rowIndex === layout.length - 1;
                
                row.forEach((keyPos) => {
                    if (keyPos === null || keyPos === undefined) {
                        // Empty placeholder
                        const keyDiv = document.createElement('div');
                        keyDiv.className = 'key empty';
                        rowDiv.appendChild(keyDiv);
                    } else {
                        const keyData = keys[keyPos] || {label: '?', class: 'key', full: '?'};
                        const keyDiv = document.createElement('div');
                        keyDiv.className = `key ${keyData.class}`;
                        if (isThumbRow) {
                            keyDiv.classList.add('thumb');
                        }
                        keyDiv.textContent = keyData.label;
                        keyDiv.setAttribute('data-full', keyData.full || keyData.label);
                        rowDiv.appendChild(keyDiv);
                    }
                });
                
                container.appendChild(rowDiv);
            });
        }
        
        function renderCenterMods(elementId, centerLayout, keys) {
            const container = document.getElementById(elementId);
            
            centerLayout.forEach((modRow) => {
                const rowDiv = document.createElement('div');
                rowDiv.className = 'row center-mods';
                
                modRow.forEach((keyPos) => {
                    const keyData = keys[keyPos] || {label: '?', class: 'key', full: '?'};
                    const keyDiv = document.createElement('div');
                    keyDiv.className = `key center-mod ${keyData.class}`;
                    keyDiv.textContent = keyData.label;
                    keyDiv.setAttribute('data-full', keyData.full || keyData.label);
                    rowDiv.appendChild(keyDiv);
                });
                
                container.appendChild(rowDiv);
            });
        }
        
        function initLayerSelector() {
            const selector = document.getElementById('layerSelector');
            
            layers.forEach((layer, index) => {
                const btn = document.createElement('button');
                btn.className = 'layer-btn';
                btn.textContent = layer.name;
                btn.onclick = () => {
                    currentLayer = index;
                    renderKeyboard(index);
                    
                    // Update active button
                    document.querySelectorAll('.layer-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                };
                
                if (index === 0) {
                    btn.classList.add('active');
                }
                
                selector.appendChild(btn);
            });
        }
        
        // Initialize
        initLayerSelector();
        renderKeyboard(0);
    </script>
</body>
</html>
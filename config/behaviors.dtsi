// Extracted behaviors from Glove80 export

/ {
  behaviors {
    ZMK_TD_LAYER(lower, LAYER_Lower)

    // Magic layer behavior
    magic: magic {
      compatible = "zmk,behavior-hold-tap";
      label = "MAGIC_HOLD_TAP";
      #binding-cells = <2>;
      flavor = "tap-preferred";
      tapping-term-ms = <200>;
      bindings = <&mo>, <&rgb_ug_status_macro>;
    };

    // Umlauts
    umlaut_a: umlaut_a {
      compatible = "zmk,behavior-mod-morph";
      label = "UMLAUT_A";
      #binding-cells = <0>;
      bindings = <&de_ae>, <&de_ae_upper>;
      mods = <(MOD_LSFT|MOD_RSFT)>;
    };

    umlaut_o: umlaut_o {
      compatible = "zmk,behavior-mod-morph";
      label = "UMLAUT_O";
      #binding-cells = <0>;
      bindings = <&de_oe>, <&de_oe_upper>;
      mods = <(MOD_LSFT|MOD_RSFT)>;
    };

    umlaut_u: umlaut_u {
      compatible = "zmk,behavior-mod-morph";
      label = "UMLAUT_U";
      #binding-cells = <0>;
      bindings = <&de_ue>, <&de_ue_upper>;
      mods = <(MOD_LSFT|MOD_RSFT)>;
    };

    eszett: eszett {
      compatible = "zmk,behavior-mod-morph";
      label = "ESZETT";
      #binding-cells = <0>;
      bindings = <&de_sz>, <&de_sz_upper>;
      mods = <(MOD_LSFT|MOD_RSFT)>;
    };

    // Home row mods - left hand
    hml: hml {
      compatible = "zmk,behavior-hold-tap";
      #binding-cells = <2>;
      tapping-term-ms = <280>;
      bindings = <&kp>, <&kp>;
      flavor = "balanced";
      quick-tap-ms = <175>;
      require-prior-idle-ms = <150>;
      hold-trigger-key-positions = <5 6 7 8 9 16 17 18 19 20 21 28 29 30 31 32 33 40 41 42 43 44 45 52 53 54 55 56 57 58 59 60 61 62 63 69 70 71 72 73 74 75 76 77 78 79>;
      hold-trigger-on-release;
    };

    // Home row mods - right hand
    hmr: hmr {
      compatible = "zmk,behavior-hold-tap";
      #binding-cells = <2>;
      tapping-term-ms = <280>;
      bindings = <&kp>, <&kp>;
      flavor = "balanced";
      quick-tap-ms = <200>;
      require-prior-idle-ms = <0>;
      hold-trigger-key-positions = <0 1 2 3 4 10 11 12 13 14 15 22 23 24 25 26 27 34 35 36 37 38 39 47 48 49 50 51 52 53 54 55 56 57 64 66 67 68 69 70 71 72 73 74 65 46>;
      hold-trigger-on-release;
    };

    // Thumb layer keys - left
    thumb_left: thumb_left {
      compatible = "zmk,behavior-hold-tap";
      #binding-cells = <2>;
      tapping-term-ms = <200>;
      bindings = <&mo>, <&kp>;
      flavor = "tap-preferred";
    };

    // Thumb layer keys - right
    thumb_right: thumb_right {
      compatible = "zmk,behavior-hold-tap";
      #binding-cells = <2>;
      tapping-term-ms = <200>;
      bindings = <&mo>, <&kp>;
      flavor = "tap-preferred";
    };

#ifdef BT_DISC_CMD
    bt_0: bt_0 {
        compatible = "zmk,behavior-tap-dance";
        label = "BT_0";
        #binding-cells = <0>;
        tapping-term-ms = <200>;
        bindings = <&bt_select_0>, <&bt BT_DISC 0>;
    };
    bt_1: bt_1 {
        compatible = "zmk,behavior-tap-dance";
        label = "BT_1";
        #binding-cells = <0>;
        tapping-term-ms = <200>;
        bindings = <&bt_select_1>, <&bt BT_DISC 1>;
    };
    bt_2: bt_2 {
        compatible = "zmk,behavior-tap-dance";
        label = "BT_2";
        #binding-cells = <0>;
        tapping-term-ms = <200>;
        bindings = <&bt_select_2>, <&bt BT_DISC 2>;
    };
    bt_3: bt_3 {
        compatible = "zmk,behavior-tap-dance";
        label = "BT_3";
        #binding-cells = <0>;
        tapping-term-ms = <200>;
        bindings = <&bt_select_3>, <&bt BT_DISC 3>;
    };
#endif
  };
};

